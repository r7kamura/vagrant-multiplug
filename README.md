# vagrant-multiplug
[Vagrant](https://github.com/mitchellh/vagrant) plug-in to manage plug-in dependencies.

## Usage
This plug-in will automatically install dependent plug-in before running vagrant actions.

```
$ vagrant plugin install vagrant-multiplug
```

After installing, you can specify the required plug-in dependencies in your Vagrantfile like so:

```rb
# Vagrantfile
Vagrant.configure("2") do |config|
  config.plugin.add_dependency "vagrant-serverkit", "0.0.2"
  config.plugin.add_dependency "serverkit-defaults"
  config.plugin.add_dependency "serverkit-homebrew"
  config.plugin.add_dependency "serverkit-karabiner"
  config.plugin.add_dependency "serverkit-rbenv"
  ...
end
```

## Example
Here is an example of `vagrant up`.

```
$ vagrant plugin install vagrant-multiplug
Installing the 'vagrant-multiplug' plugin. This can take a few minutes...
Installed the plugin 'vagrant-multiplug (0.0.2)'!
$ vagrant plugin list
vagrant-multiplug (0.0.2)
vagrant-share (1.1.3, system)
$ vagrant up
Bringing machine 'default' up with 'virtualbox' provider...
Installing the 'vagrant-serverkit --version '0.0.2'' plugin. This can take a few minutes...
Installed the plugin 'vagrant-serverkit (0.0.2)'!
Installing the 'serverkit-defaults' plugin. This can take a few minutes...
Installed the plugin 'serverkit-defaults (0.0.1)'!
Installing the 'serverkit-homebrew' plugin. This can take a few minutes...
Installed the plugin 'serverkit-homebrew (0.0.3)'!
Installing the 'serverkit-karabiner' plugin. This can take a few minutes...
Installed the plugin 'serverkit-karabiner (0.0.1)'!
Installing the 'serverkit-rbenv' plugin. This can take a few minutes...
Installed the plugin 'serverkit-rbenv (0.0.2)'!
Restarting vagrant...
Bringing machine 'default' up with 'virtualbox' provider...
==> default: Importing base box 'ubuntu/trusty64'...
==> default: Matching MAC address for NAT networking...
==> default: Checking if box 'ubuntu/trusty64' is up to date...
==> default: Setting the name of the VM: vagrant-multiplug_default_1428990750261_56569
==> default: Clearing any previously set forwarded ports...
==> default: Clearing any previously set network interfaces...
==> default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
==> default: Forwarding ports...
    default: 22 => 2222 (adapter 1)
==> default: Booting VM...
==> default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
    default: Warning: Connection timeout. Retrying...
    default: Warning: Remote connection disconnect. Retrying...
    default:
    default: Vagrant insecure key detected. Vagrant will automatically replace
    default: this with a newly generated keypair for better security.
    default:
    default: Inserting generated public key within guest...
    default: Removing insecure key from the guest if its present...
    default: Key inserted! Disconnecting and reconnecting using new SSH key...
==> default: Machine booted and ready!
==> default: Checking for guest additions in VM...
==> default: Mounting shared folders...
    default: /vagrant => /Users/r7kamura/src/github.com/r7kamura/vagrant-multiplug
```
